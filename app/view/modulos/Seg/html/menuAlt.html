<form id="zgFormID" class="form-horizontal">
<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
	<h4 class=""><i class="fa fa-th-list blue"></i>&nbsp;%TITULO%</h4>
</div>
<div class="modal-body" style="overflow-y: scroll; height: 320px;">
	
	<input type="hidden" name="codMenuPai" value="%COD_MENU_PAI%">
	<input type="hidden" name="codMenu" value="%COD_MENU%">
	<input type="hidden" name="codModulo" value="%COD_MODULO%">
	<input type="hidden" name="codTipo" value="%COD_TIPO%">
	<div class="row">
		<div class="col-sm-6">
			<div class="form-group">
		    	<label class="col-sm-4 control-label " for="nomeID">Nome</label>
    			<div class="input-group col-sm-6">
   					<span class="input-group-addon"><i class="fa fa-book"></i></span>
   					<input class="input-large" id="nomeID" type="text" name="nome" value="%NOME%" maxlength="25" required autocomplete="off">
    			</div>
    		</div>
			<div class="form-group">
		    	<label class="col-sm-4 control-label" for="descricaoID">Descrição</label>
    			<div class="input-group col-sm-6">
	    			<span class="input-group-addon"><i class="fa fa-book"></i></span>
	    			<input class="input-large" id="descricaoID" type="text" name="descricao" maxlength="40" value="%DESCRICAO%" autocomplete="off">
		    	</div>
		    </div>
    	</div>
    	<div class="col-sm-6">
			<div class="form-group">
		    	<label class="col-sm-4 control-label" for="iconeID">Ícone</label>
    			<div class="input-group col-sm-6">
	    			<span class="input-group-addon"><i class="fa fa-info"></i></span>
	    			<input class="input-large" id="iconeID" type="text" name="icone" maxlength="40" value="%ICONE%" autocomplete="off">
		    	</div>
		    </div>
			<div class="form-group">
		    	<label class="col-sm-4 control-label" for="linkID">Link</label>
    			<div class="input-group col-sm-6">
	    			<span class="input-group-addon"><i class="fa fa-link"></i></span>
	    			<input class="input-large" id="linkID" type="text" name="link" %READONLY% maxlength="100" value="%LINK%" autocomplete="off">
		    	</div>
		    </div>
    	</div>
    </div>
   	<div class="row" id="divMenuMsgID">
	</div>
</div>
<div class="modal-footer">
	<button type="submit" class="btn btn-primary" id="btnSubmitID">Salvar</button>
	<button type="button" data-dismiss="modal" id="cancel" class="btn">Fechar</button>
</div>
</form>

<script type="text/javascript" charset="%CHARSET%">
$('#zgFormID').submit(function() {
	
	$('#btnSubmitID').html('Aguarde...  <i class="ace-icon fa fa-spinner fa-spin orange bigger-125"></i>');
	$('#btnSubmitID').attr("disabled","disabled");
	$('#cancel').attr("disabled","disabled");

	$.ajax({
		type:	"POST", 
		url:	"%DP%",
		data:	$('#zgFormID').serialize(),
	}).done(function( data, textStatus, jqXHR) {
		if (checaRetornoOK(data) == true) {
			zgMostraMsg('divMenuMsgID',zgGetMsgRetorno(data));
		}else{
			zgMostraErro('divMenuMsgID',zgGetMsgRetorno(data));
		}

		//Voltar o botão de salvar
		$('#btnSubmitID').html('Salvar ');
		$('#btnSubmitID').attr("disabled",false);
		$('#cancel').attr("disabled",false);
		
		$('#zgDivModalID').on('hidden.bs.modal', function () {
			zgLoadUrl('%URL_VOLTAR%');
			$('#zgDivModalID').off('hidden.bs.modal');
		});

	}).fail(function( jqXHR, textStatus, errorThrown) {
		zgMostraErro('divMenuMsgID',errorThrown);
	});
	return false; 
});



$('textarea[class*=autosize]').autosize({append: "\n"});
$('textarea.limited').inputlimiter({
	remText: 'Restando: %n character%s ...',
	limitText: 'Max: %n.'
});

</script>
