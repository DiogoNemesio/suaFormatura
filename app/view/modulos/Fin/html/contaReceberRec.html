<form id="zgFormModalID" class="form-horizontal">
<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
	<h4 class=""><i class="fa fa-check red"></i>&nbsp;%TITULO%</h4>
</div>
<div class="modal-body" style="overflow-y: scroll; height: 420px;">
	<input type="hidden" name="codConta" value="%COD_CONTA%">
	<input type="hidden" name="id" value="%ID%">
	<div class="row">
    	<div class="col-sm-12">
			<div class="form-group">
				<label class="col-sm-3 control-label" for="codFormaPagID">Forma de Pag.</label>
    			<div class="input-group col-sm-8">
    				<span tabindex="99001" class="input-group-addon" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Selecione a Forma de Pagamento da Conta"><i class="fa fa-question-circle"></i></span>
					<select class="select2" style="width:100%;" id="codFormaPagID" name="codFormaPag" data-rel="select2">
					%FORMAS_PAG%
					</select>
				</div>
			</div>
    	</div>
    </div>
	<div class="row">
    	<div class="col-sm-12">
			<div class="form-group">
				<label class="col-sm-3 control-label" for="codContaCreID">Conta de Débito</label>
    			<div class="input-group col-sm-8">
    				<span tabindex="99002" class="input-group-addon" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Conta de débito (Origem do recurso)"><i class="fa fa-question-circle"></i></span>
					<select class="select2" style="width:100%;" id="codContaCreID" name="codContaCre" data-rel="select2">
					%CONTAS_CRE%
					</select>
				</div>
			</div>
    	</div>
    </div>
	<div class="row">
    	<div class="col-sm-12">
			<div class="form-group">
		    	<label class="col-sm-3 control-label" for="dataRecID">Data do Rec.</label>
    			<div class="input-group col-sm-8">
	    			<span tabindex="99003" class="input-group-addon" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Data de efetivação do recebimento"><i class="fa fa-question-circle"></i></span>
	    			<input class="form-control datepicker" id="dataRecID" type="text" name="dataRec" maxlength="10" value="%DATA_REC%" autocomplete="off" zg-data-toggle="mask" zg-data-mask="data">
		    	</div>
		    </div>
    	</div>
    </div>
    <div class="row">
		<div class="col-sm-12">
			<div class="form-group">
		    	<label class="col-sm-3 control-label" for="valorID">Valor</label>
    			<div class="input-group col-sm-8">
	    			<span tabindex="99004" class="input-group-addon" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Valor do Recebimento"><i class="fa fa-question-circle"></i></span>
	    			<input class="form-control" id="valorID" type="text" name="valor" maxlength="20" value="%VALOR%" autocomplete="off" required zg-data-toggle="mask" zg-data-mask="dinheiro" zg-data-mask-retira="0">
		    	</div>
		    </div>
    	</div>
    </div>
    <div class="row">
		<div class="col-sm-12">
			<div class="form-group">
		    	<label class="col-sm-3 control-label" for="valorJurosID">Júros</label>
    			<div class="input-group col-sm-8">
	    			<span tabindex="99005" class="input-group-addon" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Valor do Júros"><i class="fa fa-question-circle"></i></span>
	    			<input class="form-control" id="valorJurosID" type="text" name="valorJuros" maxlength="20" value="%VALOR_JUROS%" autocomplete="off" zg-data-toggle="mask" zg-data-mask="dinheiro" zg-data-mask-retira="0">
		    	</div>
		    </div>
    	</div>
    </div>
    <div class="row">
		<div class="col-sm-12">
			<div class="form-group">
		    	<label class="col-sm-3 control-label" for="valorMoraID">Mora</label>
    			<div class="input-group col-sm-8">
	    			<span tabindex="99006" class="input-group-addon" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Valor da Mora"><i class="fa fa-question-circle"></i></span>
	    			<input class="form-control" id="valorMoraID" type="text" name="valorMora" maxlength="20" value="%VALOR_MORA%" autocomplete="off" zg-data-toggle="mask" zg-data-mask="dinheiro" zg-data-mask-retira="0">
		    	</div>
		    </div>
    	</div>
    </div>
    <div class="row">
		<div class="col-sm-12">
			<div class="form-group">
		    	<label class="col-sm-3 control-label" for="valorOutrosID">Outros Valores</label>
    			<div class="input-group col-sm-8">
	    			<span tabindex="99006" class="input-group-addon" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Outros Valores"><i class="fa fa-question-circle"></i></span>
	    			<input class="form-control" id="valorOutrosID" type="text" name="valorOutros" maxlength="20" value="%VALOR_OUTROS%" autocomplete="off" zg-data-toggle="mask" zg-data-mask="dinheiro" zg-data-mask-retira="0">
		    	</div>
		    </div>
    	</div>
    </div>
    <div class="row">
		<div class="col-sm-12">
			<div class="form-group">
		    	<label class="col-sm-3 control-label" for="valorDescontoID">Desconto</label>
    			<div class="input-group col-sm-8">
	    			<span tabindex="99007" class="input-group-addon" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Valor do Desconto"><i class="fa fa-question-circle"></i></span>
	    			<input class="form-control" id="valorDescontoID" type="text" name="valorDesconto" maxlength="20" value="%VALOR_DESCONTO%" autocomplete="off" zg-data-toggle="mask" zg-data-mask="dinheiro" zg-data-mask-retira="0">
		    	</div>
		    </div>
    	</div>
    </div>
	<div class="row">
    	<div class="col-sm-12">
			<div class="form-group">
		    	<label class="col-sm-3 control-label" for="documentoID">Documento</label>
    			<div class="input-group col-sm-8">
	    			<span tabindex="99008" class="input-group-addon" data-toggle="popover" data-trigger="hover" data-placement="top" data-content="Documento (Você pode especificar algum documento relativo ao recebimento)"><i class="fa fa-question-circle"></i></span>
	    			<input class="form-control" id="documentoID" type="text" name="documento" maxlength="20" value="%DOCUMENTO%" autocomplete="off" >
		    	</div>
		    </div>
    	</div>
    </div>
    
    
    <div id="divMsgCRRecID">
    </div>
</div>
<div class="modal-footer">
	<button type="submit" class="btn btn-primary" id="btnSubmitID">Efetivar o Recebimento</button>
	<button type="button" data-dismiss="modal" id="cancel" class="btn">Fechar</button>
</div>
</form>


<script type="text/javascript" charset="%CHARSET%">
$('#zgFormModalID').submit(function() {
	
	$('#btnSubmitID').html('Aguarde...  <i class="ace-icon fa fa-spinner fa-spin orange bigger-125"></i>');
	$('#btnSubmitID').attr("disabled","disabled");
	$('#cancel').attr("disabled","disabled");
		
	$.ajax({
		type:	"POST", 
		url:	"%DP_MODAL%",
		data:	$('#zgFormModalID').serialize(),
	}).done(function( data, textStatus, jqXHR) {
		if (checaRetornoOK(data) == true) {
			zgMostraMsg('divMsgCRRecID',zgGetMsgRetorno(data));
		}else{
			zgMostraErro('divMsgCRRecID',zgGetMsgRetorno(data));
		}

		//Voltar o botão de salvar
		$('#btnSubmitID').html('Efetivar o Recebimento');
		$('#btnSubmitID').attr("disabled",false);
		$('#cancel').attr("disabled",false);
		
		$('#zgDivModalID').on('hidden.bs.modal', function () {
			zgLoadUrl('%URL_VOLTAR%');
			$('#zgDivModalID').off('hidden.bs.modal');
		});

		
	}).fail(function( jqXHR, textStatus, errorThrown) {
		zgMostraErro('zgDivModalID',errorThrown);
	});
	return false; 
});

$('[data-rel=tooltip]').tooltip();
$('[data-rel=popover]').popover({html:true});
$('.datepicker').datepicker({"autoclose": true});

$('[zg-data-toggle="mask"]').each(function( index ) {
	zgMask($( this ), $( this ).attr('zg-data-mask'));
});


$(document).ready(function() {
	$("#codFormaPagID").select2("destroy").select2({});
	$("#codContaCreID").select2("destroy").select2({});
});

$(document).one('ajaxloadstart.page', function(e) {
	$('[class*=select2]').remove();
	$('.rating').raty('destroy');
	$('.multiselect').multiselect('destroy');
});



</script>
