<form id="zgFormModalID" class="form-horizontal">
<div class="modal-header">
	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
	<h4 class=""><i class="fa fa-money blue"></i>&nbsp;%TITULO%</h4>
</div>
<div class="modal-body" style="overflow-y: scroll; height: 440px;">
	<input type="hidden" name="codLayout" value="%COD_LAYOUT%">
	<input type="hidden" name="id" value="%ID%">
	<div class="row">
		<div class="row">
			<div class="col-sm-5">
				<div class="widget-box transparent">
					<div class="widget-header"> 
						<h6 class="widget-title"><i class="ace-icon fa fa-thumbs-o-down"></i>Carteiras não utilizadas</h6>
					</div>
				</div>
	    	</div>
	    	<div class="col-sm-5">
				<div class="widget-box transparent">
					<div class="widget-header"> 
						<h6 class="widget-title"><i class="ace-icon fa fa-thumbs-o-up"></i>Já disponíveis</h6>
					</div>
				</div>
	    	</div>
	    	<div class="form-group">
	    		<div class="col-sm-10">
					<div class="col-sm-12">
						<select multiple="multiple" size="5" name="carteiras[]" id="duallist">
							%DUAL_LIST%
						</select>
						<div class="hr hr-16 hr-dotted"></div>
					</div>
				</div>
			</div>
		</div>
   	</div>
   	<div id="divMsgArquivoLayoutCarID"></div>
   	
</div>		    
<div class="modal-footer">
	<button type="submit" class="btn btn-primary" id="submit">Salvar</button>
	<button type="button" data-dismiss="modal" class="btn">Fechar</button>
</div>
</form>


<script type="text/javascript" charset="%CHARSET%">
$('select[name="carteiras[]"]').bootstrapDualListbox({
	infoTextFiltered: '<span class="label label-green label-lg">Filtrado</span>',
	filterTextClear: 'Mostrar todos',
	filterPlaceHolder: 'Buscar',
	infoTextEmpty: 'Lista vazia',
	infoText: '',
	selectorMinimalHeight: '80'
});

$('textarea[class*=autosize]').autosize({append: "\n"});
$('textarea.limited').inputlimiter({
	remText: 'Restando: %n character%s ...',
	limitText: 'Max: %n.'
});

$('#zgFormModalID').submit(function() {
	$.ajax({
		type:	"POST", 
		url:	"%DP_MODAL%",
		data:	$('#zgFormModalID').serialize(),
	}).done(function( data, textStatus, jqXHR) {
		if (checaRetornoOK(data) == true) {
			zgMostraMsg('divMsgArquivoLayoutCarID',zgGetMsgRetorno(data));
		}else{
			zgMostraErro('divMsgArquivoLayoutCarID',zgGetMsgRetorno(data));
		}
		
		$('#zgDivModalID').on('hidden.bs.modal', function () {
			zgLoadUrl('%URL_VOLTAR%');
			$('#zgDivModalID').off('hidden.bs.modal');
		});

		
	}).fail(function( jqXHR, textStatus, errorThrown) {
		zgMostraErro('zgDivModalID',errorThrown);
	});
	return false; 
});

</script>
